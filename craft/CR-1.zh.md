[DESIGN]总体框架
===

# 指引

在阅读本提案之前，可以粗粗浏览下[网文的历史](../misc/the-history-of-webnovel.md)，尽管本项目的长远目标在于构造一种去中心化的长内容创作机制和平台，但网文是极具参考意义的例子。

我们通过网文在中国的发展的三个阶段来展开我们的反思，借鉴和创新。因此本文的三个章节也分别对应着中国网文的阶段。

- 反思：精英创作的隐忧。我们关注到市面上一些准备进入文字内容创作的web3平台，尽管他们的创始人有着极高的哲学架构和对web3经济的理解，但可能对实际商业模式运转的了解会成为一把双刃剑。这意味着他们可能一方面可以天马行空的创造前所未有的巨大可能性，但另一方面也会因为这种空中楼阁而让真实用户无法接近。这一章对应着历史的*1995-2002：艰难的探索，草船借箭欠东风风*。
- 复刻：把盛大模式学到手，不可否认的是，起点等一帮网文商业化的探索者，提出的一系列围绕付费展开的商业模型奠定了网文发展的基础。实际上欧美网文行业在2015年左右还坚持着“靠爱发电”和“畅销书”两种极端的商业模型。我们需要基本的工具和算法来实现在去中心化下对上述逻辑的再实现。但因为他是去中心化的实现，他应当具有更好的成本结构和更公平的分配机制，尤其是如何解决的创意本身的随机性冲突。这一张对应着历史的*2003-2012：付费时代开始，盛大资本入局*。
- 创新：相同的路口，不同的选择。我们认为去中心化的商业模型复现可以帮我们积累到相当体量的用户群体。但随之而来，也会面临今天长平台领域共同的问题，如何更好的更高效的放大用户价值和实现粉丝经济。相比较 Netflix 和腾讯这样的巨头以垄断的方式来博弈，我们希望选择用公平的规则和数学来共赢。

我们认为项目的根本价值和原则在于:

1. 提供给了创作者以更大的利益和权力，让作者不用低价被迫放弃自己版权的同时，可以获得来自用户阅读的收入。
2. 允许一定程度理解内容和愿意承担风险的社会资源和资本平摊长内容领域的成本风险，并公平获取利润。
3. 渠道商，分发商，网文平台可以不再承担**“垄断”**的风险投资者角色， 可以以更专注的态势进行选品和推广操作。

我们依赖于下列事实实现上述价值：

1. 去中心化技术带来的 code is law 和 低信任成本
2. 以作者为中心的平台将吸引好的作者和作品，好作者是内容质量的保证，而内容质量是内容经济的核心

我们仍然面临的挑战：

1. 我们虽然期望内容创作的早期投资者（也可能类似选品编辑）和后续推广运营（比如渠道商，分发商）之间的分立博弈来实现利益总体的公平和正向发展，但是仍然可能存在渠道反客为主的问题。从而使得整体框架退化。
2. 由于编辑，运营这一角色在设计中的缺乏，可能如何更好的反馈和培育作者的机制存在匮乏。
3. 好的机制不一定带来成功，以怎么样的方式吸引更多好的人参与运营并推广这一理想。

# 反思：精英创作的隐忧

当Mirror在2021年初推出时，该平台仅限邀请的用户使用，新成员通过$WRITE竞赛‌（这是一个社区投票系统）获得Mirror的使用资格，从而稳定地加入新的作家。然而，在2021年10月，Mirror团队开放了该平台供任何拥有以太坊地址的人使用‌。Mirror想做一个授权给Web3创意人的“自己动手（DIY）“的出版套件。
实际上我们观察到在1995-2002年：

个人书站以及以BBS为依托的小众精英化是初期的主流，包括当时一些类似网易这样的平台所提供的使用方式，很像Mirror最早$write代币的分发一样。另一方面，尽管和那时的靠爱发电不同， Mirror 很早的就设计了例如NFT，众筹这样的让创作和收入挂钩的机制，但整体产品缺乏明确的主线和配合度，实际上，只有有一定知名度和运营能力的精英才可以从这种机制上脱颖而出。而在中国的网文的世界，其实很多人愿意为了千字10元而进行创作。

另一方面，这些网文作者的变现也主要依靠出版，就类似Mirror的NFT变现一样,也有可能随着特定的NFT市场的热度下降而失去价值：

> 2001年7月“龙的天空”成立关联出版机构，为网络文学作品提供线下出版变现的途径。然而，在这个关键时刻，将资源集中于线下出版，被时代证明是错误的选择。由于线上投入太少，“龙的天空”网站逐渐衰落下去。

我们可以给出一些观点,有一些可能是反加密货币项目传统的投机设计逻辑的，但他可能更有价值：

- 按章节的写作反馈意见其实是框架上更重要的工具，只有少数精英才可以在一个长内容的逻辑里勾画自如。而且相比较mirror等在做的，提供一个技术上看起来很酷的工具，更重要的在于用技术建立读者对作者更实时的反馈。按章付费是一个很棒的主意。
- 对普通人更友好，相比较一次价值十万美金的众筹和造富活动和能够在媒体上引起的Highlight，细水长流的涉及到成千上万个作者的每天10$的收入可能是更好的保障。

# 复刻：把起点模式学到手

在网文的早期阶段过去，引入了按章付费和VIP付费，并且率先确立了稿酬制度。这里值得强调的时候，VIP制度下的固定稿酬制度，需要编辑将其纳入VIP书库，对于去中心化体系下提供更好的边际收益分配，我们将在创新部分予以讨论。我们先来看看基本的付费实现。

## 按章付费

**TL;DR**：我们设计了一个零知识报童机制可以替代掉现有的中心化分发解锁机制，尽管区块链上没有任何网文的明文，但智能合约能完成内容的解锁交易。 

我们先解决最基本的问题，也就是按章节付费，假设一个只有读者和作者场合，他们需要通过一些机制和工具来完成一本小书的创作。并且，没有任何的中心化的第三方。一个去中心化的例如Oracle的设施是被允许的。

我们引入一种保险箱机制，作者可以将写完的该章节存入该保险箱，该保险箱功能如下：

> 保险箱拥有该不章节，但并不能获得该章节的明文，但是它可以根据区块链上某个合约的交易结果将他所拥有的密文转化为仅该交易的某个参与者可以解密的编码发布出来。

我们称这样的保险箱为”零知识报童“。我们在[CR-2](CR-2.zh.md)会详细介绍该机制。我们简要的概述如下：

> 半链报童：
> 1. 作者在本地将内容$A$用密钥矩阵P$$进行加密得到 $B = PA$，并将$P$，$B$发布到链上newsboy合约，作者拥有密钥逆矩阵$P'$
> 2. 读者首先生成一次性密钥矩阵$U$和$U'$, 当读者支付完成后，向newsboy合约提交 $C_1= U\times P$,并私信$U$给到作者。作者计算出$C_2 = P'\times U'$。到这步为止，资金虽然提交到了合约里，但是作者没有提出该资金的权力。
> 3. 作者向newsboy提交$C_2$，合约验证  $C_1 
> \times C_2 = I$后释放资金。用户可通过$C_2$计算出$P'=C_2 \times U$ 从而可以解锁明文$A=P' \times B = P' \times P \times A$ 。
> 
> 备注1： 链上公开的仅有$B$, $C_1$, $C_2$和$P$四个矩阵，因此用户没法通过公开信息获得$P'$从而解锁明文$A$。此外我们并不考虑$P'$的恶意泄露问题，因为用户已经可以看到明文, 实际上这属于盗版问题。我们面临的另一个问题是：用户是否可以公开解密$P'$而免除盗版的追责，在这个问题上，一方面，我们期望通过和司法人士的合作来完成， 一个有着明确目的的私钥确实侵犯了权力。另一方面，我们可以增加违法的成本，例如将 $C_2$ 乘以用户的公钥，这样用户在网上披露解锁密钥时，就必须披露自己的私钥。而披露自己的钱包私钥是一个代价很高的行为。
> 
> 备注2：用矩阵是为了简化理解。实际上这是一个零知识证明过程。
> 
> 备注3：我们也在考虑门限密钥机制来实现，从而在引入若干个服务节点（可能会有略微的中心化倾向）的同时提高服务速度和降低作者的解锁服务器的成本。
> 
> 备注4：此机制可以用来提供SDK，以监督可能的下游供应商的流量。

我们可以通过报童来轻松实现一个按章节付费的智能合约，在[CR-3](CR-3.zh.md)里，我们将提供一系列开放的订阅制合约协议的具体标准:

```solidity
import “./NewsBoy.sol”;

contract subscriber {

function subscribeChapter(uint chapterNum) payable{
  uint chapterPrice = chaptersPrice[chapterNum];
  require (msg.value >= chapterPrice);
  account.transfer(msg.value);
  uint moneyToReturn = msg.value - chapterPrice;
  newsboy.unlockContent(msg.sender, chapterNum, chapterPrice); 
  boughtSomething = true;
  if(moneyToReturn > 0)
    msg.sender.transfer(moneyToReturn);
  }

 function withdraw(uint amount) onlyOwner

 function emitUnlockKey(uint[] unlockKey) onlyOwner
}
```

> 备注：newsboy.unlockContent 有点类似异步的future，函数不会立即获得结果，用户需要等作者披露密钥，而作者也不能立即拉到资金，当这步完成时，实际上资金被存储在合约的受限区（可通过withdraw的函数来限制），仅当作者emitUnlockKey提交了正确的密钥，该笔资金被释放。

在这个简单的解法里，我们通过报童基本上实现了网文平台早期最基础的功能。进一步：
- 点赞
- 打赏
- 排行榜
  
都是手到擒来的功能。

## VIP机制

TL:DR: 随着最基础的问题被解决，我们居然可以在区块链上实现一个substack，Kindle Ultimate或者无限月读卡的功能。更令人激动的是，我们提供了一个开放性且扩展性极强的框架，允许任何人运营一个属于自己的Kindle Ultimate。

一个实现会员机制最直接的做法:

```solidity
function subscribeChapterForMembership(uint chapterNum) payable{
  uint chapterPrice = chaptersPrice[chapterNum];
  require (isMembership[msg.sender]); // 验证用户属于会员
  newsboy.unlockContent(msg.sender, chapterNum, chapterPrice); 
```

我们进一步探究运营场景，为了给作者提供一个稳定的收入，这个是我们第一章所坚持的观点，一个稳定的增长趋势的收入更有利于作者形成有价值的创作，在这里我们再次重申。允许一些例如会员无限读计划的实现，从历年来游戏行业（如Xbox Game Pass)和网文行业的实践来看，会员机制有助于获取巨大且稳定的核心用户和收入。我们提供了一个标准，允许在合理的按周期支付的价格下，将一本书添加进入一个会员计划。

```solidity
function AddToProgram(uint256 size) onlyProgram // 允许某个会员计划将这本书添加进入该计划
```
> onlyProgram是一个限制，在早期可能有一些限制要求例如储备金来确保合格的会员计划才能成立。

一个会员计划同样一个合约协议，创建者，可能是一个人也可能是一家公司或者一个DAO，实现了该协议所需要的必须接口：

```solidity
function join(uint period) payable //加入计划 
function leave() // 离开计划
function addOneBookToProgram(address abook) //加入一本书到计划
```

当一本书加入项目后，该项目需要以稳定的按周或者月的形式，价格决定机制由如下几种， 且根据字数和人数的不同，单价也不同，但一般来说，这是一个批发机制，当你的量越大的时候，单价越便宜：
  - 总阅读字数 * 字数价格
  - 总阅读人数 * 包月费用

支付方式由预付+尾款组成，预付应为加入计划所承诺的size的30-50%。

由于会员计划的资金往往是较为固定的月度制，此项制度可以提高作家的收入稳定性。另一方面，由于会员计划是开放的，它可以吸引一部分人参与进来。关于会员计划的协议可以在[CR-4](CR-4.zh.md)获得更详细的了解。


> 备注：我们仍然需要一个机制和运营力量去推进类似会员计划，funstory也企图用中心化的力量推进过类似的书单书城分销计划。虽然，开放式的计划更有助于获得更多好的书，在会员计划合约上推动金融创新。

## 总结

我们结合会员和VIP机制基本上完成了一个产品的最基本的部分。